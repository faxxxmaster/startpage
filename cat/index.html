<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>~/startpage</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="container">
        <div class="left-container">
            <div class="gif">
                <img src="cat.gif" />
            </div>
        </div>

        <div class="right-container">
            <!-- Three link buttons added here -->
            <a href="https://claude.ai/new" class="top-right-link-button button-1" target="_blank"></a>
            <a href="https://gemini.google.com/app" class="top-right-link-button button-2" target="_blank"></a>
            <a href="https://chatgpt.com" class="top-right-link-button button-3" target="_blank"></a>
            <div class="datetime-container">
                <div id="current-datetime"></div>
            </div>
            <div class="head">
                <!-- Modified for search bar functionality -->
                <span id="prompt-prefix">> cd ~/</span><span id="search-text"></span><span id="blinker" class="blinking">_</span>
            </div>

            <div class="bookmarks">
                <div class="category">
                    <div class="links">
                        <li class="title">Tools</li>
                        <li><a href="https://">aaa</a></li>
                        <li><a href="https://www.deepl.com/de/translator/l/en/de">DeepL</a></li>
                        <li><a href="https://pad.faxxxmaster.cc/">DumbPad</a></li>
                        <li><a href="https://mail.google.com/">gmail</a></li>
                        <li><a href="https://calendar.google.com/calendar/u/0">calendar</a></li>
                        <!-- Links beyond the first 5 -->
                        <li><a href="https://www.swisstransfer.com/">SwissTransfer</a></li>
                        <li><a href="#">extra 1</a></li>
                        <li><a href="#">extra 3</a></li>
                        <li><a href="#">extra 4</a></li>
		        <li><a href="#">extra 5</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">dev</li>
                        <li><a href="https://github.com/faxxxmaster/">GitHub</a></li>
                        <li><a href="https://terminaltrove.com/">terminaltrove</a></li>
                        <li><a href="https://selfh.st/">self-hosted</a></li>
                        <li><a href="https://noted.lol/">noted</a></li>
                        <li><a href="https://www.trackawesomelist.com/awesome-selfhosted/awesome-selfhosted/">awesome</a></li>
                        <li><a href="#">extra 1</a></li>
                        <li><a href="#">extra 2</a></li>
			<li><a href="#">extra 3</a></li>
                        <li><a href="#">extra 4</a></li>
			<li><a href="#">extra 5</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">pics</li>
                        <li><a href="https://ultrawidewallpapers.net/">ultrawide</a></li>
                        <li><a href="https://wallhaven.cc//">wallhaven</a></li>
                        <li><a href="https://app.thestorygraph.com/profile/choucho_p/">storygraph</a></li>
                        <li><a href="https://myanimelist.net/mangalist/Naju_adib?/">mangalist</a></li>
                        <li><a href="https://rawg.io/@choucho_p/games">rawg</a></li>
                        <li><a href="https://www.myrecipes.com/">recipe</a></li>
                        <li><a href="#">extra 2</a></li>
			<li><a href="#">extra 3</a></li>
                        <li><a href="#">extra 4</a></li>
			<li><a href="#">extra 5</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">play</li>
                        <li><a href="https://monkeytype.com/">monkeytype</a></li>
                        <li><a href="https://store.steampowered.com/?l=german/">steam</a></li>
                        <li><a href="https://serienfans.org/">serienfans</a></li>
                        <li><a href="https://filmfans.org">filmfans</a></li>
                        <li><a href="https://boerse.cx">boerse</a></li>
                        <li><a href="#">extra 1</a></li>
                        <li><a href="#">extra 2</a></li>
			<li><a href="#">extra 3</a></li>
                        <li><a href="#">extra 4</a></li>
			<li><a href="#">extra 5</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">priv</li>
                        <li><a href="https://bilder.cienciala.eu/">bilder</a></li>
                        <li><a href="https://wiki.cienciala.eu">wiki</a></li>
                        <li><a href="https://immich.cienciala.eu">immich</a></li>
                        <li><a href="https://ksuite.infomaniak.com/">infomaniak</a></li>
                        <li><a href="https://mail.google.com/">gmail</a></li>
                        <li><a href="https://lemmasoft.renai.us/forums/index.php">vn assets</a></li>
                        <li><a href="https://www.footybite.to/">footybite</a></li>
                        <li><a href="https://cobalt.tools/">cobalt tools</a></li>
                        <li><a href="https://bdixtv24.com/live-tv/">bdix</a></li>
                        <li><a href="https://animepahe.ru">animepahe</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">social</li>
                        <li><a href="https://youtube.com/">youtube</a></li>
                        <li><a href="https://x.com/">x</a></li>
                        <li><a href="https://reddit.com/">reddit</a></li>
                        <li><a href="https://www.twitch.tv/">twitch</a></li>
                        <li><a href="https://discord.com/channels/862292009423470592/1150723027986813018/">discord</a></li>
                        <li><a href="https://4chan.org/">4chan</a></li>
                        <li><a href="https://www.instagram.com/">instagram</a></li>
			           <li><a href="https://mynoise.net/">mynoise</a></li>
                        <li><a href="https://dab.yeet.su/">music</a></li>
		            	<li><a href="https://animethemes.moe/">animethemes</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <div class="category">
                    <div class="links">
                        <li class="title">Work</li>
                        <li><a href="https://inwx.de/">INWX</a></li>
                        <li><a href="https://www.dynadot.com/">DynaDot</a></li>
                        <li><a href="https://www.servercontrolpanel.de/SCP/Home">SCP</a></li>
                        <li><a href="https://www.customercontrolpanel.de/">NCCP</a></li>
                        <li><a href="https://najmossalahin.github.io/Kanji_Tool/">kanji</a></li>
                        <li><a href="#">extra 1</a></li>
                        <li><a href="#">extra 2</a></li>
			<li><a href="#">extra 3</a></li>
                        <li><a href="#">extra 4</a></li>
			<li><a href="#">extra 5</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>

                <!-- New 'misc' category added for equal distribution into two rows -->
                <div class="category">
                    <div class="links">
                        <li class="title">learn</li>
                        <li><a href="https://hackthebox.com/">HackTheBox</a></li>
                        <li><a href="https://tryhackme.com/">TryHackMe</a></li>
                        <li><a href="https://overthewire.org/wargames//">OverTheWire</a></li>
                        <li><a href="https://vulnhub.com/single/">VulnHub</a></li>
                        <li><a href="https://bootstrap.academy/">academy</a></li>
                        <li><a href="#">extra 1</a></li>
                        <li><a href="#">extra 2</a></li>
                        <li><a href="#">extra 3</a></li>
                        <li><a href="#">extra 5</a></li>
                        <li><a href="#">extra 5</a></li>
                    </div>
                    <button class="toggle-links-button">></button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to update the clock and date
        function updateDateTime() {
            const now = new Date();

            // Format time for 24-hour clock
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const timeString = `${hours}:${minutes}:${seconds}`;

            // Format date
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('de-DE', options);

            document.getElementById('current-datetime').textContent = `${dateString} ${timeString}`;
        }
        // Update the clock every second
        setInterval(updateDateTime, 1000);

        // Initial call to display the time immediately
        updateDateTime();

        // Search bar functionality
        const searchTextElement = document.getElementById('search-text');
        const blinkerElement = document.getElementById('blinker');
        let searchQuery = '';

        // Function to validate if a string is a URL
        function isValidUrl(string) {
            const urlRegex = /^(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/[a-zA-Z0-9]+\.[^\s]{2,}|[a-zA-Z0-9]+\.[^\s]{2,})$/i;
            return urlRegex.test(string);
        }

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Backspace' || event.key === 'Enter' || event.key.length === 1) {
                event.preventDefault();
            }

            if (event.key === 'Backspace') {
                searchQuery = searchQuery.slice(0, -1);
            } else if (event.key === 'Enter') {
                const trimmedQuery = searchQuery.trim();
                if (trimmedQuery !== '') {
                    if (isValidUrl(trimmedQuery)) {
                        let urlToOpen = trimmedQuery;
                        if (!urlToOpen.startsWith('http://') && !urlToOpen.startsWith('https://')) {
                            urlToOpen = `http://${urlToOpen}`;
                        }
                        window.location.href = urlToOpen;
                    } else {
                        window.location.href = `https://www.google.com/search?q=${encodeURIComponent(trimmedQuery)}`;
                    }
                }
                searchQuery = '';
            } else if (event.key.length === 1) {
                searchQuery += event.key;
            }

            searchTextElement.textContent = searchQuery;
        });

        // Pagination for links functionality
        document.addEventListener('DOMContentLoaded', () => {
            const categories = document.querySelectorAll('.category');
            const linksPerPage = 5; // Number of links to show per page

            categories.forEach(category => {
                const linksContainer = category.querySelector('.links');
                const titleElement = linksContainer.querySelector('.title');
                // Get all actual link elements, excluding the title
                const allLinkElements = Array.from(linksContainer.querySelectorAll('li:not(.title)'));

                // Store all original links and current page index on the category element
                category.allOriginalLinks = allLinkElements;
                category.currentPage = 0;

                const toggleButton = category.querySelector('.toggle-links-button');

                // Function to display the links for the current page
                function displayCurrentPage(currentCategory) {
                    const allLinks = currentCategory.allOriginalLinks;
                    const currentPage = currentCategory.currentPage;
                    const startIndex = currentPage * linksPerPage;
                    const endIndex = startIndex + linksPerPage;

                    // Hide all links first
                    allLinks.forEach(link => link.style.display = 'none');

                    // Show only the links for the current page
                    for (let i = startIndex; i < endIndex && i < allLinks.length; i++) {
                        allLinks[i].style.display = 'list-item';
                    }

                    // Update button visibility based on number of pages
                    if (allLinks.length <= linksPerPage) {
                        toggleButton.style.display = 'none'; // Hide button if no pagination needed
                    } else {
                        toggleButton.style.display = 'block'; // Show button if pagination is needed
                    }
                }

                // Initial display of links for each category
                displayCurrentPage(category);

                // Add click listener to the toggle button
                toggleButton.addEventListener('click', () => {
                    category.currentPage++; // Move to the next page
                    // If we've gone past the last page, loop back to the first page (page 0)
                    if (category.currentPage * linksPerPage >= category.allOriginalLinks.length) {
                        category.currentPage = 0;
                    }
                    displayCurrentPage(category); // Update the displayed links
                });
            });
        });
    </script>
</body>

</html>
